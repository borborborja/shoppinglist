@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

html,
body,
#root {
  width: 100%;
  padding: 0;
  margin: 0;
  overflow-x: hidden;
  position: relative;
  /* Prevent bounce/overscroll */
  overscroll-behavior: none;
  /* Allow vertical scrolling but block other gestures like double-tap zoom */
  touch-action: pan-y;
  -webkit-text-size-adjust: 100%;
}

body {
  @apply bg-white dark:bg-darkBg transition-colors duration-500;
  min-height: 100vh;
  min-height: -webkit-fill-available;
}

#root {
  min-height: 100vh;
  min-height: -webkit-fill-available;
  display: flex;
  flex-direction: column;
}

@layer utilities {
  .glass {
    @apply bg-white/85 dark:bg-slate-900/85 backdrop-blur-md border-b border-black/5 dark:border-white/5;
  }

  .glass-footer {
    @apply bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border-t border-black/5 dark:border-white/5;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pb-safe-offset-2 {
    padding-bottom: calc(env(safe-area-inset-bottom) + 0.5rem);
  }
}

@theme {
  --color-darkBg: #0f172a;
  --color-darkSurface: #1e293b;

  --animate-shake: shake 0.5s cubic-bezier(.36, .07, .19, .97) both infinite;
  --animate-fade-in: fadeIn 0.3s ease-out forwards;
  --animate-slide-up: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  --animate-pop: pop 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);

  @keyframes shake {

    0%,
    100% {
      transform: rotate(0deg);
    }

    25% {
      transform: rotate(1deg);
    }

    75% {
      transform: rotate(-1deg);
    }
  }

  @keyframes fadeIn {
    0% {
      opacity: 0;
    }

    100% {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    0% {
      transform: translateY(20px);
      opacity: 0;
    }

    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes pop {
    0% {
      transform: scale(0.95);
      opacity: 0;
    }

    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
}

/* Theme overrides */
.dark.amoled {
  --color-darkBg: #000000;
  --color-darkSurface: #0a0a0a;
}